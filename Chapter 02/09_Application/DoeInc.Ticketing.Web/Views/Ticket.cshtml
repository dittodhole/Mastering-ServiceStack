@using System.Collections.Generic
@using DoeInc.Ticketing.ServiceModel
@inherits ViewPage<DoeInc.Ticketing.ServiceModel.Types.Ticket>

<div class="row">
    <div class="col-md-9">
        <h1>Edit Ticket</h1>
        <a href="@(new GetTickets().ToGetUrl())">Back to overview</a>
    </div>
    <div class="col-md-3">
        <form action="@(new DeleteTicket
                            {
                                Id = this.Model.Id
                            }.ToDeleteUrl())"
              method="@HttpMethods.Post">
            @Html.Hidden(HttpHeaders.XHttpMethodOverride,
                             HttpMethods.Delete)
            <button type="submit"
                    class="btn btn-default pull-right">
                <span class="glyphicon glyphicon-trash"
                      aria-hidden="true"></span>
            </button>
        </form>
    </div>
</div>

<form action="@(new StoreTicket
                {
                    Id = Model.Id
                }.ToPutUrl())"
      method="@HttpMethods.Post">
    @Html.Hidden(HttpHeaders.XHttpMethodOverride,
                 HttpMethods.Put)
    @Html.HiddenFor(arg => arg.RowVersion,
                    Model.RowVersion)
    <div class="form-group">
        <label for="title"
               class="col-sm-2 control-label">
            Title
        </label>
        <div class="col-sm-10">
            @Html.TextBoxFor(arg => arg.Title,
                             Model.Title,
                             new Dictionary<string, object>
                             {
                                 {
                                     "required", "required"
                                 },
                                 {
                                     "placeholder", "Enter a title"
                                 },
                                 {
                                     "class", "form-control"
                                 }
                             })
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-12">
            <button type="submit"
                    class="btn btn-default">
                Save
            </button>
        </div>
    </div>
</form>